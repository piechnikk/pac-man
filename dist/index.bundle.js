(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var i;t.g.importScripts&&(i=t.g.location+"");var e=t.g.document;if(!i&&e&&(e.currentScript&&(i=e.currentScript.src),!i)){var o=e.getElementsByTagName("script");if(o.length)for(var s=o.length-1;s>-1&&!i;)i=o[s--].src}if(!i)throw new Error("Automatic publicPath is not supported in this browser");i=i.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=i})();var i=1e4,e=16,o={ArrowUp:{code:38,movement:{x:0,y:-1},rotation:90},ArrowLeft:{code:37,movement:{x:-1,y:0},rotation:0},ArrowDown:{code:40,movement:{x:0,y:1},rotation:270},ArrowRight:{code:39,movement:{x:1,y:0},rotation:180}},s=[{x:0,y:-1},{x:-1,y:0},{x:0,y:1},{x:1,y:0}],n=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1],[1,3,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,3,1],[1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,2,1],[1,2,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,2,1],[1,2,2,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,2,2,1],[1,1,1,1,1,1,2,1,1,1,1,1,0,1,1,0,1,1,1,1,1,2,1,1,1,1,1,1],[0,0,0,0,0,1,2,1,1,1,1,1,0,1,1,0,1,1,1,1,1,2,1,0,0,0,0,0],[0,0,0,0,0,1,2,1,1,0,0,0,0,0,0,0,0,0,0,1,1,2,1,0,0,0,0,0],[0,0,0,0,0,1,2,1,1,0,1,1,1,4,4,1,1,1,0,1,1,2,1,0,0,0,0,0],[1,1,1,1,1,1,2,1,1,0,1,4,4,4,4,4,4,1,0,1,1,2,1,1,1,1,1,1],[0,0,0,0,0,0,2,0,0,0,1,4,4,4,4,4,4,1,0,0,0,2,0,0,0,0,0,0],[1,1,1,1,1,1,2,1,1,0,1,4,4,4,4,4,4,1,0,1,1,2,1,1,1,1,1,1],[0,0,0,0,0,1,2,1,1,0,1,1,1,1,1,1,1,1,0,1,1,2,1,0,0,0,0,0],[0,0,0,0,0,1,2,1,1,0,0,0,0,0,0,0,0,0,0,1,1,2,1,0,0,0,0,0],[0,0,0,0,0,1,2,1,1,0,1,1,1,1,1,1,1,1,0,1,1,2,1,0,0,0,0,0],[1,1,1,1,1,1,2,1,1,0,1,1,1,1,1,1,1,1,0,1,1,2,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1],[1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,2,1],[1,3,2,2,1,1,2,2,2,2,2,2,2,0,0,2,2,2,2,2,2,2,1,1,2,2,3,1],[1,1,1,2,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,1,1],[1,1,1,2,1,1,2,1,1,2,1,1,1,1,1,1,1,1,2,1,1,2,1,1,2,1,1,1],[1,2,2,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,1,1,2,2,2,2,2,2,1],[1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1],[1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],a=["blank","wall","dot","pill","lair","blinky","pinky","inky","clyde","pacman","ghost","scared"],d=n[0].length,h=function(){function t(t,i){this.dotCount=0,this.divs=[],this.DOMDiv=t,this.createBoard(i)}return t.prototype.showGameStatus=function(t){var i=document.createElement("div");i.classList.add("game-status"),i.innerHTML="".concat(t?"WIN":"GAME OVER"),this.DOMDiv.appendChild(i)},t.prototype.createBoard=function(t){this.dotCount=0,this.divs=[],this.DOMDiv.innerHTML="",this.fruitDiv=document.createElement("div"),this.fruitDiv.id="fruit",this.fruitDiv.classList.add("hide"),this.DOMDiv.appendChild(this.fruitDiv),console.log(this.fruitDiv),this.DOMDiv.style.gridTemplateColumns="repeat("+d+", 8px)";for(var i=0;i<t.length;i++){this.divs.push([]);for(var e=0;e<t[i].length;e++){var o=t[i][e],s=document.createElement("div");s.classList.add("square",a[o]),s.style.width="8px",s.style.height="8px",this.DOMDiv.appendChild(s),this.divs[i].push(s),"dot"==a[o]&&this.dotCount++}}},t.prototype.checkCollision=function(t,i){return this.divs[t.y][t.x].classList.contains(i)},t.prototype.removeElement=function(t,i){var e;(e=this.divs[t.y][t.x].classList).remove.apply(e,i)},t}();const r=h;var c=function(){function t(t,i,e,o,n,a){this.DOMDiv=i,this.board=e,this.name=t,this.offset={x:-4,y:-4},"blinky"==this.name?this.position={x:13,y:11}:"pinky"==this.name?this.position={x:13,y:14}:"inky"==this.name?this.position={x:11,y:11}:"clyde"==this.name&&(this.position={x:15,y:11}),this.direction=s[1],this.nextPosition={x:this.position.x+this.direction.x,y:this.position.y+this.direction.y},this.pacman=o,this.target=this.pacman.position,this.mode="scatter","blinky"==this.name?this.scatterPosition={x:25,y:-4}:"pinky"==this.name?this.scatterPosition={x:2,y:-4}:"inky"==this.name?this.scatterPosition={x:27,y:31}:"clyde"==this.name&&(this.scatterPosition={x:0,y:31}),this.slowMove=!1,this.i=0,this.level=n,this.createGhost()}return t.prototype.createGhost=function(){this.div=document.createElement("div"),this.div.classList.add("ghost"),this.div.classList.add(this.name),this.div.style.top=8*this.position.y+this.offset.y+"px",this.div.style.left=8*this.position.x+this.offset.x+"px",this.div.style.backgroundPositionX="0px",this.div.style.backgroundPositionY="-16px",this.DOMDiv.appendChild(this.div),this.startAnimation(),this.setModes()},t.prototype.deleteGhost=function(){this.DOMDiv.removeChild(this.div),this.stopAnimation()},t.prototype.setModes=function(){var t=this;if(1==this.level){var i=12e3;setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i),i+=2e4,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("scatter")}),i),i+=7e3,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i),i+=2e4,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("scatter")}),i),i+=5e3,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i),i+=2e4,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("scatter")}),i),i+=5e3,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i)}else this.level>=2&&this.level<=4?(i=12e3,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i),i+=2e4,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("scatter")}),i),i+=7e3,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i),i+=2e4,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("scatter")}),i),i+=5e3,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i),i+=1033014,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("scatter")}),i),i+=1,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i)):(i=1e4,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i),i+=2e4,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("scatter")}),i),i+=5e3,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i),i+=2e4,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("scatter")}),i),i+=5e3,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i),i+=1037014,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("scatter")}),i),i+=1,setTimeout((function(){"frightened"!=t.mode&&"eaten"!=t.mode&&"points"!=t.mode&&t.setMode("chase")}),i))},t.prototype.setMode=function(t){this.mode=t},t.prototype.startAnimation=function(){var t=this;this.animation=setInterval((function(){if("eaten"!=t.mode){var i=parseInt(t.div.style.backgroundPositionX.substring(0,t.div.style.backgroundPositionX.length-2));i<=-16&&(i=16),t.div.style.backgroundPositionX=i-16+"px"}else t.div.style.backgroundPositionX="-32px"}),4*e)},t.prototype.stopAnimation=function(){clearInterval(this.animation)},t.prototype.move=function(){"points"!=this.mode&&(this.i=0,this.div.style.top=8*this.nextPosition.y+this.offset.y+"px",this.div.style.left=8*this.nextPosition.x+this.offset.x+"px",this.position=JSON.parse(JSON.stringify(this.nextPosition)),this.nextPosition={x:this.position.x+this.direction.x,y:this.position.y+this.direction.y},this.setTarget(),this.setDirection(),this.nextPosition.x<0?this.nextPosition.x=27:this.nextPosition.x>27&&(this.nextPosition.x=0))},t.prototype.setTarget=function(){var t,i,e=13,o=11;if(!this.board.divs[this.position.y][this.position.x].classList.contains("lair"))if("scatter"==this.mode)e=this.scatterPosition.x,o=this.scatterPosition.y;else if("chase"==this.mode){if("blinky"==this.name)e=this.pacman.position.x,o=this.pacman.position.y;else if("pinky"==this.name)-1==this.pacman.direction.movement.y?(e=this.pacman.position.x+4*this.pacman.direction.movement.y,o=this.pacman.position.y+4*this.pacman.direction.movement.y):(e=this.pacman.position.x+4*this.pacman.direction.movement.x,o=this.pacman.position.y+4*this.pacman.direction.movement.y);else if("inky"==this.name)-1==this.pacman.direction.movement.y?(t=this.pacman.position.x+2*this.pacman.direction.movement.y,i=this.pacman.position.y+2*this.pacman.direction.movement.y):(t=this.pacman.position.x+2*this.pacman.direction.movement.x,i=this.pacman.position.y+2*this.pacman.direction.movement.y),this.blinky&&(e=t+(t-this.blinky.position.x),o=i+(i-this.blinky.position.y));else if("clyde"==this.name){var s={x:Math.abs(this.position.x-this.pacman.position.x),y:Math.abs(this.position.y-this.pacman.position.y)};Math.sqrt(Math.pow(s.x,2)+Math.pow(s.y,2))<8?(e=this.scatterPosition.x,o=this.scatterPosition.y):(e=this.pacman.position.x,o=this.pacman.position.y)}}else"eaten"==this.mode&&(e=13,o=11,13==this.position.x&&11==this.position.y&&this.setMode("chase"));this.target={x:e,y:o}},t.prototype.setDirection=function(){var t,i,e,o=this;if("frightened"==this.mode){var n=void 0;do{i=s[Math.floor(4*Math.random())],(n={x:this.position.x+i.x,y:this.position.y+i.y}).x<0?n.x=27:n.x>27&&(n.x=0)}while(!this.noWallCollision(n)||!this.noTurnBack(i)||!this.noGoUp(i));e=n,this.div.style.backgroundPositionY="-64px"}else s.forEach((function(s,n){var a={x:o.position.x+s.x,y:o.position.y+s.y};a.x<0?a.x=27:a.x>27&&(a.x=0);var d=Math.abs(o.target.x-a.x),h=Math.abs(o.target.y-a.y),r=Math.pow(d,2)+Math.pow(h,2);(!t||r<t)&&o.noWallCollision(a)&&o.noTurnBack(s)&&o.noGoUp(s)&&(t=r,i=s,e=a,o.div.style.backgroundPositionY=-16*n+"px")}));this.nextPosition=e,this.direction=i},t.prototype.noWallCollision=function(t){return!this.board.checkCollision(t,"wall")||!this.board.checkCollision(t,"wall")},t.prototype.noTurnBack=function(t){return-1==this.direction.x&&1!=t.x||1==this.direction.x&&-1!=t.x||-1==this.direction.y&&1!=t.y||1==this.direction.y&&-1!=t.y},t.prototype.noGoUp=function(t){return!((11==this.position.y||23==this.position.y)&&this.position.x>=11&&this.position.x<=16)||0==t.y},t.prototype.checkPacManCollision=function(){return this.position.x==this.pacman.position.x&&this.position.y==this.pacman.position.y},t.prototype.dead=function(){this.setMode("eaten")},t.prototype.step=function(){"points"!=this.mode&&("frightened"==this.mode?(this.div.style.top=8*this.position.y+this.direction.y*this.i/2+this.offset.y+"px",this.div.style.left=8*this.position.x+this.direction.x*this.i/2+this.offset.x+"px",this.i>=15&&(this.i=-1)):(this.div.style.top=8*this.position.y+this.direction.y*this.i+this.offset.y+"px",this.div.style.left=8*this.position.x+this.direction.x*this.i+this.offset.x+"px",this.i>=7&&(this.i=-1)),this.i++)},t.prototype.startFrightenedAnim=function(){var t=this,i=setInterval((function(){t.div.style.backgroundPositionY="-80px"}),500);setTimeout((function(){clearInterval(i)}),3e3)},t}();const p=c;var l=function(){function t(t,i){this.DOMDiv=t,this.board=i,this.offset={x:-4,y:-4},this.position={x:13,y:23},this.direction=o.ArrowLeft,this.nextPosition={x:this.position.x+this.direction.movement.x,y:this.position.y+this.direction.movement.y},this.powerPill=!1,this.stop=!1,this.createPacman(),this.addKeyboard()}return t.prototype.createPacman=function(){this.div=document.createElement("div"),this.div.classList.add("pacman"),this.div.style.top=8*this.position.y+this.offset.y+"px",this.div.style.left=8*this.position.x+this.offset.x+"px",this.div.style.backgroundPositionX="0px",this.DOMDiv.appendChild(this.div),this.startAnimation()},t.prototype.startAnimation=function(){var t=this;this.animation=setInterval((function(){var i=parseInt(t.div.style.backgroundPositionX.substring(0,t.div.style.backgroundPositionX.length-2));i<=-48&&(i=16),t.div.style.backgroundPositionX=i-16+"px"}),2*e)},t.prototype.stopAnimation=function(){clearInterval(this.animation)},t.prototype.addKeyboard=function(){var t=this;document.addEventListener("keydown",(function(i){t.handleKeyInput(i)}))},t.prototype.handleKeyInput=function(t){if(t.keyCode>=37&&t.keyCode<=40&&!this.stop){this.nextDirection=o[t.key];var i={x:this.position.x+this.nextDirection.movement.x,y:this.position.y+this.nextDirection.movement.y};this.board.checkCollision(i,"wall")||(this.direction=JSON.parse(JSON.stringify(this.nextDirection)),this.nextPosition=JSON.parse(JSON.stringify(i)),this.div.style.transform="rotate("+this.direction.rotation+"deg)")}},t.prototype.move=function(){this.stop||(this.div.style.transform="rotate("+this.direction.rotation+"deg)",this.div.style.top=8*this.nextPosition.y+this.offset.y+"px",this.div.style.left=8*this.nextPosition.x+this.offset.x+"px",this.position=JSON.parse(JSON.stringify(this.nextPosition)),this.nextPosition={x:this.position.x+this.direction.movement.x,y:this.position.y+this.direction.movement.y},this.nextPosition.x<0?this.nextPosition.x=27:this.nextPosition.x>27&&(this.nextPosition.x=0))},t.prototype.noWallCollision=function(){var t;return this.nextDirection?((t={x:this.position.x+this.nextDirection.movement.x,y:this.position.y+this.nextDirection.movement.y}).x<0?t.x=27:t.x>27&&(t.x=0),this.board.checkCollision(t,"wall")?!this.board.checkCollision(this.nextPosition,"wall"):(this.nextPosition=JSON.parse(JSON.stringify(t)),this.direction=JSON.parse(JSON.stringify(this.nextDirection)),this.nextDirection=null,!0)):!this.board.checkCollision(this.nextPosition,"wall")},t.prototype.startDeadAnimation=function(){var t=this;this.div.style.backgroundPositionX="-64px",this.animation=setInterval((function(){var i=parseInt(t.div.style.backgroundPositionX.substring(0,t.div.style.backgroundPositionX.length-2));t.div.style.backgroundPositionX=i-16+"px",i<=-224&&(t.stopAnimation(),t.div.classList.add("hide"))}),8*e)},t.prototype.dead=function(){this.stopAnimation(),this.position={x:13,y:23},this.direction=o.ArrowLeft,this.nextPosition={x:this.position.x+this.direction.movement.x,y:this.position.y+this.direction.movement.y},this.stop=!0,this.startDeadAnimation()},t.prototype.resurection=function(){this.startAnimation(),this.div.style.top=8*this.position.y+this.offset.y+"px",this.div.style.left=8*this.position.x+this.offset.x+"px",this.stop=!1,this.div.classList.remove("hide")},t.prototype.step=function(t){this.div.style.transform="rotate("+this.direction.rotation+"deg)",this.div.style.top=8*this.position.y+this.direction.movement.y*t+this.offset.y+"px",this.div.style.left=8*this.position.x+this.direction.movement.x*t+this.offset.x+"px"},t}();const m=l,u=t.p+"d080918aa7f501e4778ab9a72da81fbe.wav",y=t.p+"bdc3f5f314a2181a90fe99f24c06b72d.wav",f=t.p+"91d7a56437791b5cd727194f556df418.wav",v=t.p+"34ca96086b0e8d2cd518b3499303c8ad.wav",x=t.p+"652f46a6cbc24ae6f6d60518bb0572d7.wav",g=t.p+"8065f9c8240bd96517e9db6b0141e250.wav",k=t.p+"9fdafaa2a6307d9671d4a9fc81f3fe90.wav",b=t.p+"0c386ce04f766305a84df5cf78251c3e.wav";var w=new Audio(f),P=new Audio(v);P.loop=!0;var M=new Audio(y);M.loop=!0;var D,T,L,C,A,E=new Audio(x),I=new Audio(g),O=new Audio(k),X=new Audio(b),S=document.getElementById("game"),B=document.getElementById("score"),N=document.getElementById("highscore"),G=0,J=!1,W=0,Y=3,K=1,U=0,F=0,$=!1,j=[],q=document.getElementById("startGame");function H(){clearTimeout(L),C.fruitDiv.classList.add("hide"),$=!1,C.showGameStatus(J),P.pause(),M.pause(),I.pause(),O.pause(),clearInterval(T)}function R(){clearTimeout(L),C.fruitDiv.classList.add("hide"),$=!1,A.dead();for(var t=0,i=j;t<i.length;t++)i[t].deleteGhost();j=[],P.pause(),M.pause(),E.play(),clearInterval(T),Y--;var o=document.getElementById("lives");2==Y?o.style.backgroundPositionY="-64px":o.classList.add("hide"),Y<=0?H():setTimeout((function(){j.push(new p("blinky",S,C,A,K)),j.push(new p("pinky",S,C,A,K)),j.push(new p("inky",S,C,A,K,j[0])),j.push(new p("clyde",S,C,A,K)),L=setTimeout((function(){C.fruitDiv.classList.remove("hide"),C.fruitDiv.style.backgroundPositionX=F<12?-16*F+"px":"192px",$=!0,L=setTimeout((function(){C.fruitDiv.classList.add("hide"),$=!1}),1e4)}),15e3),w.play(),A.resurection(),setTimeout((function(){P.play(),T=setInterval((function(){return V()}),e)}),5e3)}),2e3)}function V(){A.noWallCollision()&&A.step(W),j.forEach((function(t){return t.step()})),8==W&&(W=0,A.noWallCollision()&&A.move(),j.forEach((function(t){"frightened"==t.mode?(t.checkPacManCollision()&&(t.stopAnimation(),t.setMode("points"),t.div.classList.add("points"),console.log(U),t.div.style.backgroundPositionX=-16*U+"px",U++,G+=200*U,setTimeout((function(){t.startAnimation(),t.dead(),t.div.classList.remove("points")}),1e3),I.play(),O.play()),t.slowMove&&t.move(),t.slowMove=!t.slowMove,t.checkPacManCollision()&&"frightened"==t.mode&&(t.stopAnimation(),t.setMode("points"),t.div.classList.add("points"),console.log(U),t.div.style.backgroundPositionX=-16*U+"px",U++,G+=200*U,setTimeout((function(){t.startAnimation(),t.dead(),t.div.classList.remove("points")}),1e3),I.play(),O.play())):"chase"==t.mode||"scatter"==t.mode?(t.checkPacManCollision()&&"blinky"!=t.name&&R(),t.move(),t.checkPacManCollision()&&"blinky"!=t.name&&R()):t.move()})),C.checkCollision(A.position,"dot")&&(new Audio(u).play(),C.removeElement(A.position,["dot"]),C.dotCount--,G+=10),C.checkCollision(A.position,"pill")&&(M.play(),C.removeElement(A.position,["pill"]),A.powerPill=!0,G+=50,P.pause(),j.forEach((function(t){"eaten"!=t.mode&&(U=0,t.setMode("frightened"))})),setTimeout((function(){j.forEach((function(t){"frightened"==t.mode&&t.startFrightenedAnim()}))}),i-3e3),clearTimeout(D),D=setTimeout((function(){A.powerPill=!1,j.forEach((function(t){"eaten"!=t.mode&&t.setMode("chase"),P.play()})),M.pause()}),i)),(13==A.position.x&&17==A.position.y||14==A.position.x&&17==A.position.y)&&$&&(console.log(-16*F+"px"),C.fruitDiv.style.backgroundPositionX=F<12?-16*F+"px":"192px",G+=100+200*F,F++,C.fruitDiv.classList.add("points1"),$=!1,setTimeout((function(){C.fruitDiv.style.backgroundPositionX=F<12?-16*F+"px":"192px",clearTimeout(L),C.fruitDiv.classList.add("hide"),C.fruitDiv.classList.remove("points1")}),1e3),X.play()),0==C.dotCount&&(J=!0,H()),B.innerText=""+G,N.innerText=""+G),W++}q&&q.addEventListener("click",(function(){var t,i;null===(t=document.getElementById("scoreDiv"))||void 0===t||t.classList.remove("hide"),null===(i=document.getElementById("liveContainer"))||void 0===i||i.classList.remove("hide"),null==q||q.classList.add("hide"),G=0,J=!1,C=new r(S,n),A=new m(S,C),j.push(new p("blinky",S,C,A,K)),j.push(new p("pinky",S,C,A,K)),j.push(new p("inky",S,C,A,K,j[0])),j.push(new p("clyde",S,C,A,K)),L=setTimeout((function(){console.log("showww",C.fruitDiv),C.fruitDiv.classList.remove("hide"),C.fruitDiv.style.backgroundPositionX=F<12?-16*F+"px":"192px",$=!0,L=setTimeout((function(){C.fruitDiv.classList.add("hide"),$=!1}),1e4)}),15e3),w.play(),setTimeout((function(){P.play(),T=setInterval((function(){return V()}),e)}),5e3)})),document.addEventListener("keydown",(function(t){J&&17==t.keyCode&&function(){K++,J=!1;for(var t=0,i=j;t<i.length;t++)i[t].deleteGhost();j=[],C=new r(S,n),A=new m(S,C),j.push(new p("blinky",S,C,A,K)),j.push(new p("pinky",S,C,A,K)),j.push(new p("inky",S,C,A,K,j[0])),j.push(new p("clyde",S,C,A,K)),C.fruitDiv=document.getElementById("fruit"),L=setTimeout((function(){C.fruitDiv.classList.remove("hide"),C.fruitDiv.style.backgroundPositionX=F<12?-16*F+"px":"192px",$=!0,L=setTimeout((function(){C.fruitDiv.classList.add("hide"),$=!1}),1e4)}),15e3),w.play(),setTimeout((function(){P.play(),T=setInterval((function(){return V()}),e)}),5e3)}()}))})();